(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{379:function(t,e,n){var content=n(437);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("fef691ea",content,!0,{sourceMap:!1})},436:function(t,e,n){"use strict";var o=n(379);n.n(o).a},437:function(t,e,n){(e=n(26)(!1)).push([t.i,".search-title[data-v-84684418]{line-height:2;border-bottom:1px solid #ccc}.search-alike-title[data-v-84684418]{line-height:2}.more-btn[data-v-84684418]{display:flex;justify-content:center;align-items:center;height:40px;cursor:pointer}.badge[data-v-84684418]{color:#fff!important}.hide[data-v-84684418]{height:200px;overflow:hidden}.hide[data-v-84684418],.show[data-v-84684418]{transition:all 6s}.show[data-v-84684418]{height:auto;overflow:visible}",""]),t.exports=e},447:function(t,e,n){"use strict";n.r(e);var o=n(352),r={name:"SlideUpDown",props:{active:Boolean,duration:{type:Number,default:500},tag:{type:String,default:"div"},useHidden:{type:Boolean,default:!0}},data:function(){return{style:{},initial:!1,hidden:!1}},watch:{active:function(){this.layout()}},render:function(t){return t(this.tag,{style:this.style,attrs:this.attrs,ref:"container",on:{transitionend:this.onTransitionEnd}},this.$slots.default)},mounted:function(){this.layout(),this.initial=!0},created:function(){this.hidden=!this.active},computed:{el:function(){return this.$refs.container},attrs:function(){var t={"aria-hidden":!this.active,"aria-expanded":this.active};return this.useHidden&&(t.hidden=this.hidden),t}},methods:{layout:function(){var t=this;this.active?(this.hidden=!1,this.$emit("open-start"),this.initial&&this.setHeight("0px",(function(){return t.el.scrollHeight+"px"}))):(this.$emit("close-start"),this.setHeight(this.el.scrollHeight+"px",(function(){return"0px"})))},asap:function(t){this.initial?this.$nextTick(t):t()},setHeight:function(t,i){var e=this;this.style={height:t},this.asap((function(){e.__=e.el.scrollHeight,e.style={height:i(),overflow:"hidden","transition-property":"height","transition-duration":e.duration+"ms"}}))},onTransitionEnd:function(t){t.target===this.el&&(this.active?(this.style={},this.$emit("open-end")):(this.style={height:"0",overflow:"hidden"},this.hidden=!0,this.$emit("close-end")))}}},d={name:"SearchResult",middleware:"storeDataVerify",components:{ListAttractions:o.a,SlideUpDown:r},asyncData:function(){return{toggleShowOrHide:!1}},computed:{keyword:function(){return this.$route.params.keyword},findData:function(){var t=this.keyword;return this.$store.state.attractions.filter((function(e){return e.Add&&e.Add.indexOf(t)>-1||e.Keyword&&e.Keyword.indexOf(t)>-1||e.Name&&e.Name.indexOf(t)>-1}))},keywordPopups:function(){var t=this.keyword,e=this.findData,n=[];return e.forEach((function(e){e.Keyword&&e.Keyword.indexOf(t)>-1&&n.push(e.Keyword),e.Name&&e.Name.indexOf(t)>-1&&n.push(e.Name),e.Add&&e.Add.indexOf(t)>-1&&n.push(e.Add)})),n.length>20&&this.showOrHidePopup(),n}},methods:{showOrHidePopup:function(){this.toggleShowOrHide=!0},readMore:function(){this.toggleShowOrHide="hide"}}},h=(n(436),n(25)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",[n("b-col",[n("h6",{staticClass:"search-title"},[t._v("\n          關鍵字   "),n("b-badge",[t._v("\n            "+t._s(t.keyword)+"\n          ")])],1)])],1),t._v(" "),n("b-row",[n("b-col",[n("div",{staticClass:"search-alike-title"},[t._v("\n          搜尋相關結果\n        ")]),t._v(" "),t._l(t.keywordPopups.slice(0,20),(function(e,o){return n("nuxt-link",{key:o,attrs:{to:"/search/"+e}},[n("b-badge",{staticClass:"mx-1 badge",attrs:{variant:"primary"}},[t._v("\n            "+t._s(e)+"\n          ")])],1)})),t._v(" "),n("SlideUpDown",{attrs:{active:"hide"===t.toggleShowOrHide,duration:2e3}},t._l(t.keywordPopups.slice(20),(function(e,o){return n("nuxt-link",{key:o,attrs:{to:"/search/"+e}},[n("b-badge",{staticClass:"mx-1 badge",attrs:{variant:"primary"}},[t._v("\n              "+t._s(e)+"\n            ")])],1)})),1),t._v(" "),t.toggleShowOrHide&&"hide"!==t.toggleShowOrHide?n("div",{staticClass:"more-btn",on:{click:t.readMore}},[t._v("\n          加載更多   \n          "),n("font-awesome-icon",{attrs:{icon:"angle-down"}})],1):t._e(),t._v(" "),"hide"===t.toggleShowOrHide?n("div",{staticClass:"more-btn",on:{click:t.showOrHidePopup}},[t._v("\n          收疊結果\n          "),n("font-awesome-icon",{attrs:{icon:"angle-up"}})],1):t._e()],2)],1),t._v(" "),n("b-row",[n("b-col",[t.findData?n("ListAttractions",{key:t.keyword,attrs:{action:"search-keyword","search-data":t.findData}}):t._e()],1)],1)],1)],1)}),[],!1,null,"84684418",null);e.default=component.exports}}]);