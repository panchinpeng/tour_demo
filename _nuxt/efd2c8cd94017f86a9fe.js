(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{214:function(n,t,e){"use strict";e.d(t,"d",(function(){return l})),e.d(t,"e",(function(){return f})),e.d(t,"c",(function(){return d})),e.d(t,"b",(function(){return h})),e.d(t,"a",(function(){return m}));e(18);var r=e(49),o=e.n(r),c=(e(215),e(69)),l=function(n,t,e,r){o.a.auth().signInWithEmailAndPassword(n,t).then((function(n){m("loginCount",n.user.uid),e(n.user.uid)})).catch((function(n){r(n.message)}))},f=function(n){o.a.auth().signOut().then(n)},d=function(n){var t=n.uid,e=n.city,r=n.nickname;return new Promise((function(n,o){c.b.ref("users/".concat(t)).update({city:e,nickname:r},(function(t){t?o(t):n()}))}))},h=function(n){return new Promise((function(t){c.b.ref("users/".concat(n)).once("value").then((function(n){return t(n.val())}))}))},m=function(n,t){return new Promise((function(e,r){console.log("rrrr","users/".concat(t,"/").concat(n)),c.b.ref("users/".concat(t,"/").concat(n)).transaction((function(n){return null===n?1:n+1}),(function(n,t){null===n&&t&&e(),r(n)}))}))}},354:function(n,t,e){var content=e(385);"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,e(27).default)("0eadc8fb",content,!0,{sourceMap:!1})},384:function(n,t,e){"use strict";var r=e(354);e.n(r).a},385:function(n,t,e){(t=e(26)(!1)).push([n.i,".container[data-v-63faaf13]{height:100vh;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;height:200px;max-width:300px}",""]),n.exports=t},448:function(n,t,e){"use strict";e.r(t);e(72);var r=e(214),o={data:function(){return{username:"",password:"",loginErrMsg:""}},methods:{userLoginSuccess:function(n){this.$store.dispatch("setLoginStatus",n),this.$store.dispatch("setUsername",this.username),this.$store.dispatch("setShouldUpdateFavorite",!0),this.$router.replace("/")},userLoginFail:function(n){this.loginErrMsg=n},login:function(){this.username&&this.password?Object(r.d)(this.username,this.password,this.userLoginSuccess,this.userLoginFail):alert("請正確輸入帳號及密碼")}}},c=(e(384),e(25)),component=Object(c.a)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("b-container",[e("b-row",[e("b-col",[e("b-card",{attrs:{title:"登入",align:"center"}},[e("b-row",[e("b-col",[e("b-alert",{directives:[{name:"show",rawName:"v-show",value:n.loginErrMsg,expression:"loginErrMsg"}],attrs:{show:"",variant:"danger"}},[n._v("\n              "+n._s(n.loginErrMsg)+"\n            ")])],1)],1),n._v(" "),e("b-row",{staticClass:"my-1"},[e("b-col",[e("b-form-input",{attrs:{placeholder:"請輸入帳號"},model:{value:n.username,callback:function(t){n.username=t},expression:"username"}})],1)],1),n._v(" "),e("b-row",{staticClass:"my-1"},[e("b-col",[e("b-form-input",{attrs:{type:"password",placeholder:"請輸入密碼"},model:{value:n.password,callback:function(t){n.password=t},expression:"password"}})],1)],1),n._v(" "),e("b-row",[e("b-col",[e("b-button",{attrs:{variant:"success"},on:{click:n.login}},[n._v("\n              登入\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,"63faaf13",null);t.default=component.exports}}]);